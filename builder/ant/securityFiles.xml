<!--
    =====================================================
												  	MAIN
    =====================================================
  -->
<project name="foc" default="full">
	<property name="devutil" value="devutil"/>
	<property name="devutil.prjDir" value="${srcRoot}/${devutil}"/>
	<property name="devutil.srcDir" value="${devutil.prjDir}/src"/>
	<property name="devutil.buildDir" value="${exeRoot}/${appSubDir}/${devutil}/${buildSubDir}"/>
	<property name="devutil.classDir" value="${devutil.buildDir}/${classSubDir}"/>
	<property name="devutil.jarDir" value="${devutil.buildDir}/${jarSubDir}"/>
	<property name="devutil.jarFile" value="${devutil.buildDir}/${jarSubDir}/01b-${devutil}.jar"/>
	<property name="devutil.ojarName" value="${devutil}.jar"/>
	<property name="devutil.packDir" value="${exeRoot}/${appSubDir}/${devutil}/${versionSubDir}"/>
	<property name="devutil.ojarFullName" value="${devutil.buildDir}/jar/${devutil.ojarName}"/>

	<property name="l3drivers" value="l3drivers"/>
	<property name="l3drivers.prjDir" value="${drive_workspace}:/${eclipseworkspace}/l3drivers"/>
	<property name="l3drivers.srcDir" value="${l3drivers.prjDir}/src"/>
	
	<taskdef name="createsecurityjavafile" classname="b01.ant.tasks.CreateSecurityJavaFile" classpath="${devutil.ojarFullName}"/>
	<property name="machineCode" value=" 00-50-FC-87-3B-FC" />
		
	<target name="createFiles">
		<createsecurityjavafile packageName="b01.l3.drivers.unit" srcDir="${l3drivers.srcDir}/b01/l3/drivers/unit" code="${machineCode}"/><!-- Ghorra Cobas integra PC Aspire-->
		<createsecurityjavafile packageName="@{packageName}" srcDir="@{srcDir}" code="${machineCode}"/><!-- Ghorra Cobas integra PC Aspire-->
		<createsecurityjavafile packageName="@{packageName}" srcDir="@{srcDir}" code="${machineCode}"/><!-- Ghorra Cobas integra PC Aspire-->
		<createsecurityjavafile packageName="@{packageName}" srcDir="@{srcDir}" code="${machineCode}"/><!-- Ghorra Cobas integra PC Aspire-->
	</target>

	
	
	
	
	<property name="obfuscate" value="true" />
	<property name="jre" value="true" />
  <property name="drive_workspace" value="c" />
  <property name="drive_java" value="c" />
  
  <property name="jdkVersion" value="1.5.0" />
  <property name="jdkDirName" value="jdk${jdkVersion}" />
  <property name="jdkFullPath" value="${drive_java}:/java/${jdkDirName}" />
  <property name="jreDirName" value="jre${jdkVersion}" />
  <property name="jreFullPath" value="${jdkFullPath}/jre" />
	<property name="jreFullPathWithOutRoot" value="java/${jdkDirName}/jre" />
	
  <property name="exeRoot" value="${drive_workspace}:/exe" />
  <property name="srcRoot" value="${drive_workspace}:/eclipseworkspace" />
  <property name="resources" value="${drive_workspace}:/eclipseworkspace/_resources" />	
	<property name="appSubDir" value="app"/>
	<property name="buildSubDir" value="build"/>
	<property name="jarSubDir" value="jar"/>
	<property name="classSubDir" value="class"/>
	<property name="versionSubDir" value="pack"/>
	
	<!-- Mysql properties -->
	<property name="mysqlJarDir" value="${resources}/jar"/>
	<property name="mysqlJarName" value="mysql-connector-java-3.0.14-production-bin.jar"/>

	<!-- SQL server properties -->
	<property name="sqlJarDir" value="${resources}/jar"/>
	<property name="sqlJarName" value="jtds-1.2.jar"/>

	<!-- Obfuscation properties -->
	<property name="varBuildDir" value="" />
	<property name="yguard.jar.dir" value="${resources}/jar" />
	<property name="main.class" value="b01.Main" />
	<property name="obfuscationlog" value="${varBuildDir}/obflog.xml"/>
	<taskdef name="obfuscate" classname="com.yworks.yguard.ObfuscatorTask" classpath="${yguard.jar.dir}/yguard.jar"/>
	<taskdef resource="net/sf/antcontrib/antcontrib.properties"/>
	
	<!-- COMM API -->
	<property name="commApiDir" value="${resources}/jar"/>

	<!-- JUNIT API -->
	<property name="junitJAR" value="${resources}/jar/junit-4.1.jar"/>

	<!-- JasperReport Directory-->
	<property name="JasperReportDir" value="${resources}/jasper"/>
	<property name="JasperReportFile1" value="jasperreports-1.1.1.jar"/>
	<property name="JasperReportFile2" value="commons-logging-1.0.2.jar"/>
  <property name="JasperReportFile3" value="commons-collections-2.1.jar"/>
  <property name="JasperReportFile4" value="itext-1.3.1.jar"/>	
	
	<!--
  	FOC
	  -->

	<property name="foc" value="foc"/>
	<property name="foc.prjDir" value="${srcRoot}/foc"/>
	<property name="foc.srcDir" value="${foc.prjDir}/src"/>
	<property name="foc.buildDir" value="${exeRoot}/${foc}/${buildSubDir}"/>
	<property name="foc.classDir" value="${foc.buildDir}/${classSubDir}"/>
	<property name="foc.jarDir" value="${foc.buildDir}/${jarSubDir}"/>
	<property name="foc.jarFile" value="${foc.buildDir}/${jarSubDir}/01b-${foc}.jar"/>
	<property name="foc.ojarName" value="${foc}.jar"/>

	<!--
  	L3Foundation
	  -->
<!--
	<property name="l3f" value="l3foundations"/>
	<property name="l3f.prjDir" value="${srcRoot}/l3foundations"/>
	<property name="l3f.srcDir" value="${l3f.prjDir}/src"/>
	<property name="l3f.buildDir" value="${exeRoot}/${l3f}/${buildSubDir}"/>
	<property name="l3f.classDir" value="${l3f.buildDir}/${classSubDir}"/>
	<property name="l3f.jarDir" value="${l3f.buildDir}/${jarSubDir}"/>
	<property name="l3f.jarFile" value="${l3f.buildDir}/${jarSubDir}/01b-l3f.jar"/>
	<property name="l3f.ojarName" value="l3f.jar"/>
-->
	<!--
  	L3Drivers
	  -->
<!--
	<property name="l3drivers" value="l3drivers"/>
	<property name="l3drivers.prjDir" value="${srcRoot}/l3drivers"/>
	<property name="l3drivers.srcDir" value="${l3drivers.prjDir}/src"/>
	<property name="l3drivers.buildDir" value="${exeRoot}/${l3drivers}/${buildSubDir}"/>
	<property name="l3drivers.classDir" value="${l3drivers.buildDir}/${classSubDir}"/>
	<property name="l3drivers.jarDir" value="${l3drivers.buildDir}/${jarSubDir}"/>
	<property name="l3drivers.jarFile" value="${l3drivers.buildDir}/${jarSubDir}/01b-${l3drivers}.jar"/>
	<property name="l3drivers.ojarName" value="${l3drivers}.jar"/>
-->
	
	<!--
  	L3Foundation
	  -->
	<property name="l3f" value="l3foundations"/>
	<property name="l3f.prjDir" value="${drive_workspace}:/eclipseworkspace/l3foundations"/>
	<property name="l3f.srcDir" value="${l3f.prjDir}/src"/>
	<property name="l3f.buildDir" value="${exeRoot}/${l3f}/${buildSubDir}"/>
	<property name="l3f.classDir" value="${l3f.buildDir}/${classSubDir}"/>
	<property name="l3f.jarDir" value="${l3f.buildDir}/${jarSubDir}"/>
	<property name="l3f.jarFile" value="${l3f.buildDir}/${jarSubDir}/01b-l3f.jar"/>
	<property name="l3f.ojarName" value="l3f.jar"/>

	<!--
  	L3Drivers
	  -->
	<property name="l3drivers" value="l3drivers"/>
	<property name="l3drivers.prjDir" value="${drive_workspace}:/eclipseworkspace/l3drivers"/>
	<property name="l3drivers.srcDir" value="${l3drivers.prjDir}/src"/>
	<property name="l3drivers.buildDir" value="${exeRoot}/${l3drivers}/${buildSubDir}"/>
	<property name="l3drivers.classDir" value="${l3drivers.buildDir}/${classSubDir}"/>
	<property name="l3drivers.jarDir" value="${l3drivers.buildDir}/${jarSubDir}"/>
	<property name="l3drivers.jarFile" value="${l3drivers.buildDir}/${jarSubDir}/01b-${l3drivers}.jar"/>
	<property name="l3drivers.ojarName" value="${l3drivers}.jar"/>
	
	<!--
  	MBOQ
	  -->

	<property name="mboq" value="mboq"/>
	<property name="mboq.prjDir" value="${srcRoot}/${mboq}"/>
	<property name="mboq.srcDir" value="${mboq.prjDir}/src"/>
	<property name="mboq.exeDir" value="${exeRoot}/${appSubDir}/${mboq}"/>
	<property name="mboq.buildDir" value="${mboq.exeDir}/${buildSubDir}"/>
	<property name="mboq.classDir" value="${mboq.buildDir}/${classSubDir}"/>
	<property name="mboq.jarDir" value="${mboq.buildDir}/${jarSubDir}"/>
	<property name="mboq.jarFile" value="${mboq.buildDir}/${jarSubDir}/01b-${mboq}.jar"/>
	<property name="mboq.ojarName" value="${mboq}.jar"/>
	<property name="mboq.packDir" value="${mboq.exeDir}/${versionSubDir}"/>	

	<target name="mboq">
		<ant dir="${foc}" antfile="build.xml" target="makeJar"/> 
		<ant dir="${mboq}" antfile="build.xml" target="makeJar"/>
		
		<call-obfuscate2 jar1="${foc.jarFile}" ojar1="${mboq.jarDir}/${foc.ojarName}" jar2="${mboq.jarFile}" ojar2="${mboq.jarDir}/${mboq.ojarName}"/>		
		
		<preparePackDir packDir="${mboq.packDir}"/>
		<addProjectToPack packDir="${mboq.packDir}" projectDir="${foc.prjDir}" foc-app="foc"/>
		<addProjectToPack packDir="${mboq.packDir}" projectDir="${mboq.prjDir}" foc-app="app"/>
		<addJarToPack packDir="${mboq.packDir}" jarfile="${mysqlJarDir}/${mysqlJarName}"/>
		<addJarToPack packDir="${mboq.packDir}" jarfile="${mboq.buildDir}/jar/${mboq.ojarName}"/>
		<addJarToPack packDir="${mboq.packDir}" jarfile="${mboq.buildDir}/jar/${foc.ojarName}"/>
		<copy file="${mboq.prjDir}/ant/to_copy_run.cmd" tofile="${mboq.packDir}/run.cmd"/>
		
	  <zip destfile="${mboq.exeDir}/${mboq}_properties.zip" basedir="${mboq.packDir}"
			includes="properties/*.properties"
	  />
		
	  <zip destfile="${mboq.exeDir}/${mboq}.zip" basedir="${mboq.packDir}"
	  	excludes="properties/*.properties"
	  />		
		
		<!--
		<jreCopy packdir="${mboq.packDir}"/>
		-->

		<jreZip packDir="${mboq.exeDir}"/>
	</target>

	<!--
  	DEVTASK
	  -->

	<property name="devtask" value="devtask"/>
	<property name="devtask.prjDir" value="${srcRoot}/${devtask}"/>
	<property name="devtask.srcDir" value="${devtask.prjDir}/src"/>
	<property name="devtask.exeDir" value="${exeRoot}/${appSubDir}/${devtask}"/>
	<property name="devtask.buildDir" value="${devtask.exeDir}/${buildSubDir}"/>
	<property name="devtask.classDir" value="${devtask.buildDir}/${classSubDir}"/>
	<property name="devtask.jarDir" value="${devtask.buildDir}/${jarSubDir}"/>
	<property name="devtask.jarFile" value="${devtask.buildDir}/${jarSubDir}/01b-${devtask}.jar"/>
	<property name="devtask.ojarName" value="${devtask}.jar"/>
	<property name="devtask.packDir" value="${devtask.exeDir}/${versionSubDir}"/>	

	<target name="devtask">
		<ant dir="${foc}" antfile="build.xml" target="makeJar"/> 
		<ant dir="${devtask}" antfile="build.xml" target="makeJar"/>
		
		<call-obfuscate2 jar1="${foc.jarFile}" ojar1="${devtask.jarDir}/${foc.ojarName}" jar2="${devtask.jarFile}" ojar2="${devtask.jarDir}/${devtask.ojarName}"/>		
		
		<preparePackDir packDir="${devtask.packDir}"/>
		<addProjectToPack packDir="${devtask.packDir}" projectDir="${foc.prjDir}" foc-app="foc"/>
		<addProjectToPack packDir="${devtask.packDir}" projectDir="${devtask.prjDir}" foc-app="app"/>
		<addJarToPack packDir="${devtask.packDir}" jarfile="${mysqlJarDir}/${mysqlJarName}"/>
		<addJarToPack packDir="${devtask.packDir}" jarfile="${devtask.buildDir}/jar/${devtask.ojarName}"/>
		<addJarToPack packDir="${devtask.packDir}" jarfile="${devtask.buildDir}/jar/${foc.ojarName}"/>
		<copy file="${devtask.prjDir}/ant/to_copy_run.cmd" tofile="${devtask.packDir}/run.cmd"/>
		
	  <zip destfile="${devtask.exeDir}/${devtask}_properties.zip" basedir="${devtask.packDir}"
			includes="properties/*.properties"
	  />
		
	  <zip destfile="${devtask.exeDir}/${devtask}.zip" basedir="${devtask.packDir}"
	  	excludes="properties/*.properties"
	  />		
		
		<!--
		<jreCopy packdir="${mboq.packDir}"/>
		-->

		<!--jreZip packDir="${devtask.exeDir}"/-->
	</target>

	<!--
  	MAG
	  -->

	<property name="mag" value="mag"/>
	<property name="mag.prjDir" value="${srcRoot}/${mag}"/>
	<property name="mag.srcDir" value="${mag.prjDir}/src"/>
	<property name="mag.exeDir" value="${exeRoot}/${appSubDir}/${mag}"/>
	<property name="mag.buildDir" value="${mag.exeDir}/${buildSubDir}"/>
	<property name="mag.classDir" value="${mag.buildDir}/${classSubDir}"/>
	<property name="mag.jarDir" value="${mag.buildDir}/${jarSubDir}"/>
	<property name="mag.jarFile" value="${mag.buildDir}/${jarSubDir}/01b-${mag}.jar"/>
	<property name="mag.ojarName" value="${mag}.jar"/>
	<property name="mag.packDir" value="${mag.exeDir}/${versionSubDir}"/>	

	<target name="mag">
		<property name="foc.jarFile" value="" />
		<ant dir="${foc}" antfile="build.xml" target="makeJar"/> 
		<ant dir="${mag}" antfile="build.xml" target="makeJar"/>
		
		<call-obfuscate2 jar1="${foc.jarFile}" ojar1="${mag.jarDir}/${foc.ojarName}" jar2="${mag.jarFile}" ojar2="${mag.jarDir}/${mag.ojarName}"/>		
		
		<preparePackDir packDir="${mag.packDir}"/>
		<addProjectToPack packDir="${mag.packDir}" projectDir="${foc.prjDir}" foc-app="foc"/>
		<addProjectToPack packDir="${mag.packDir}" projectDir="${mag.prjDir}" foc-app="app"/>

		<addJarToPack packDir="${mag.packDir}" jarfile="${mysqlJarDir}/${mysqlJarName}"/>
		<addJarToPack packDir="${mag.packDir}" jarfile="${mag.buildDir}/jar/${mag.ojarName}"/>
		<addJarToPack packDir="${mag.packDir}" jarfile="${mag.buildDir}/jar/${foc.ojarName}"/>
		<addJasperToPack packDir="${mag.packDir}"/>

		<copy todir="${mag.packDir}/reports">
	    <fileset dir="${mag.prjDir}/reports/"/>
	  </copy>
		
		<copy file="${mag.prjDir}/ant/to_copy_run.cmd" tofile="${mag.packDir}/run.cmd"/>
		
	  <zip destfile="${mag.exeDir}/${mag}_properties.zip" basedir="${mag.packDir}"
			includes="properties/*.properties"
	  />
		
	  <zip destfile="${mag.exeDir}/${mag}.zip" basedir="${mag.packDir}"
	  	excludes="properties/*.properties"
	  />

		<!--jar basedir="${mag.packDir}" destfile="${mag.buildDir}/jar/${foc.ojarName}" /-->
		<!--			
		<jar basedir="${mag.packDir}" destfile="${mag.packDir}/resources.jar" />
		<signjar jar="${mag.packDir}/resources.jar" alias="01Barmaja" storepass="01Barmaja10" keystore="keystore-name"/>
		
		<copy file="${mag.buildDir}/jar/${mag.ojarName}" todir="${mag.packDir}"/>
		<signjar jar="${mag.packDir}/${mag.ojarName}" alias="01Barmaja" storepass="01Barmaja10" keystore="keystore-name"/>
		
		<copy file="${mag.buildDir}/jar/${foc.ojarName}" todir="${mag.packDir}"/>		
		<signjar jar="${mag.packDir}/${foc.ojarName}" alias="01Barmaja" storepass="01Barmaja10" keystore="keystore-name"/>
			
		<copy file="${mysqlJarDir}/${mysqlJarName}" todir="${mag.packDir}"/>
		<signjar jar="${mag.packDir}/${mysqlJarName}" alias="01Barmaja" storepass="01Barmaja10" keystore="keystore-name"/>
			
		<copy file="${JasperReportDir}/${JasperReportFile1}" todir="${mag.packDir}"/>
		<signjar jar="${mag.packDir}/${JasperReportFile1}" alias="01Barmaja" storepass="01Barmaja10" keystore="keystore-name"/>
			
		<copy file="${JasperReportDir}/${JasperReportFile2}" todir="${mag.packDir}"/>
		<signjar jar="${mag.packDir}/${JasperReportFile2}" alias="01Barmaja" storepass="01Barmaja10" keystore="keystore-name"/>
			
		<copy file="${JasperReportDir}/${JasperReportFile3}" todir="${mag.packDir}"/>
		<signjar jar="${mag.packDir}/${JasperReportFile3}" alias="01Barmaja" storepass="01Barmaja10" keystore="keystore-name"/>
		
		<copy file="${mag}/01barmaja.jnlp" todir="${mag.packDir}"/>
		-->
		
	</target>

	<!--
  	Sales Contact
	  -->

	<target name="salesContact">
		<ant dir="${foc}" antfile="build.xml" target="makeJar"/> 
		<ant dir="salescontact" antfile="build.xml" target="makeJar"/>
	</target>
	
	<!--
  	Cedim pool
	  -->

	<property name="l3cedim" value="l3cedim"/>
	<property name="l3cedim.prjDir" value="${srcRoot}/${l3cedim}"/>
	<property name="l3cedim.srcDir" value="${l3cedim.prjDir}/src"/>
	<property name="l3cedim.exeDir" value="${exeRoot}/${appSubDir}/${l3cedim}"/>
	<property name="l3cedim.buildDir" value="${exeRoot}/${appSubDir}/${l3cedim}/${buildSubDir}"/>
	<property name="l3cedim.classDir" value="${l3cedim.buildDir}/${classSubDir}"/>
	<property name="l3cedim.jarDir" value="${l3cedim.buildDir}/${jarSubDir}"/>
	<property name="l3cedim.jarFile" value="${l3cedim.buildDir}/${jarSubDir}/01b-${l3cedim}.jar"/>
	<property name="l3cedim.ojarName" value="${l3cedim}.jar"/>
	<property name="l3cedim.packDir" value="${exeRoot}/${appSubDir}/${l3cedim}/${versionSubDir}"/>	

	<target name="l3cedim" depends="devutil">
		<ant dir="${foc}" antfile="build.xml" target="makeJar"/>				
		<!--
		No need for foc because devutil will do it
		-->
		<ant dir="${l3f}" antfile="build.xml" target="makeJar"/> 
		
		<ant dir="${l3cedim}" antfile="build.xml" target="makeJar"/>
		
		<call-obfuscate3 jar1="${foc.jarFile}"     ojar1="${l3cedim.jarDir}/${foc.ojarName}" 
			               jar2="${l3cedim.jarFile}" ojar2="${l3cedim.jarDir}/${l3cedim.ojarName}" 
			               jar3="${l3f.jarFile}"     ojar3="${l3cedim.jarDir}/${l3f.ojarName}"/>		
	
		<preparePackDir packDir="${l3cedim.packDir}"/>
		<addProjectToPack packDir="${l3cedim.packDir}" projectDir="${foc.prjDir}" foc-app="foc"/>
		<addProjectToPack packDir="${l3cedim.packDir}" projectDir="${l3cedim.prjDir}" foc-app="app"/>
		<addJarToPack packDir="${l3cedim.packDir}" jarfile="${resources}/jar/${mysqlJarName}"/>
		<addJarToPack packDir="${l3cedim.packDir}" jarfile="${l3cedim.buildDir}/jar/${l3cedim.ojarName}"/>
		<addJarToPack packDir="${l3cedim.packDir}" jarfile="${l3cedim.buildDir}/jar/${l3f.ojarName}"/>
		<addJarToPack packDir="${l3cedim.packDir}" jarfile="${l3cedim.buildDir}/jar/${foc.ojarName}"/>
		<copy file="${l3cedim.prjDir}/ant/to_copy_run.cmd" tofile="${l3cedim.packDir}/run.cmd"/>
		

		<!-- COMM API files -->
		<copy file="${resources}/win32com.dll" tofile="${l3cedim.packDir}/jre/bin/win32com.dll"/>
		<addJarToPack packDir="${l3cedim.packDir}" jarfile="${commApiDir}/comm.jar"/>
		<addJarToPack packDir="${l3cedim.packDir}" jarfile="${commApiDir}/javax.comm.properties"/>
		
		<jreZipWithAdd dirToCopyJreTo="${l3cedim.exeDir}/${jreDirName}.zip" dirToCopyJreFrom="/${jreFullPath}" fileToAdd="${resources}/win32com.dll" subdirToAddFileIn="bin" />
		
		<zip destfile="${l3cedim.exeDir}/${l3cedim}_properties.zip" basedir="${l3cedim.packDir}"
			includes="properties/*.properties"
	  />
	 
		<zip destfile="${l3cedim.exeDir}/${l3cedim}.zip" basedir="${l3cedim.packDir}"
	  	excludes="properties/*.properties"
	  />	
		
		
		<!-- <jreCopy packdir="${l3cedim.packDir}"/> -->
		


		
	</target>
	
	
	
		<!--
	  	Ghorra pool
	  -->

		<property name="l3ghorra" value="l3ghorra"/>
		<property name="l3ghorra.prjDir" value="${srcRoot}/${l3ghorra}"/>
		<property name="l3ghorra.srcDir" value="${l3ghorra.prjDir}/src"/>
		<property name="l3ghorra.exeDir" value="${exeRoot}/${appSubDir}/${l3ghorra}"/>
		<property name="l3ghorra.buildDir" value="${l3ghorra.exeDir}/${buildSubDir}"/>
		<property name="l3ghorra.classDir" value="${l3ghorra.buildDir}/${classSubDir}"/>
		<property name="l3ghorra.jarDir" value="${l3ghorra.buildDir}/${jarSubDir}"/>
		<property name="l3ghorra.jarFile" value="${l3ghorra.buildDir}/${jarSubDir}/01b-${l3ghorra}.jar"/>
		<property name="l3ghorra.ojarName" value="${l3ghorra}.jar"/>
		<property name="l3ghorra.packDir" value="${l3ghorra.exeDir}/${versionSubDir}"/>	

		<target name="l3ghorra" depends="devutil">
			
			<ant dir="${foc}" antfile="build.xml" target="makeJar"/>				

			<ant dir="${l3f}" antfile="build.xml" target="makeJar"/> 
			
			
			
			<ant dir="${l3ghorra}" antfile="build.xml" target="makeJar"/>
			
			<call-obfuscate3 jar1="${foc.jarFile}"     ojar1="${l3ghorra.jarDir}/${foc.ojarName}" 
				               jar2="${l3ghorra.jarFile}" ojar2="${l3ghorra.jarDir}/${l3ghorra.ojarName}" 
				               jar3="${l3f.jarFile}"     ojar3="${l3ghorra.jarDir}/${l3f.ojarName}"/>		
		
			<preparePackDir packDir="${l3ghorra.packDir}"/>
			<addProjectToPack packDir="${l3ghorra.packDir}" projectDir="${foc.prjDir}" foc-app="foc"/>
			<addProjectToPack packDir="${l3ghorra.packDir}" projectDir="${l3ghorra.prjDir}" foc-app="app"/>
			<addJarToPack packDir="${l3ghorra.packDir}" jarfile="${resources}/jar/${mysqlJarName}"/>
			<addJarToPack packDir="${l3ghorra.packDir}" jarfile="${l3ghorra.buildDir}/jar/${l3ghorra.ojarName}"/>
			<addJarToPack packDir="${l3ghorra.packDir}" jarfile="${l3ghorra.buildDir}/jar/${l3f.ojarName}"/>
			<addJarToPack packDir="${l3ghorra.packDir}" jarfile="${l3ghorra.buildDir}/jar/${foc.ojarName}"/>
			<copy file="${l3ghorra.prjDir}/ant/to_copy_run.cmd" tofile="${l3ghorra.packDir}/run.cmd"/>

			<!-- COMM API files -->
			<!--<jreZipWithAdd packDir="${l3ghorra.exeDir}" file="${resources}/win32com.dll" dir="jre${}" />-->
			
			
			<jreZipWithAdd dirToCopyJreTo="${l3ghorra.exeDir}/${jreDirName}.zip" dirToCopyJreFrom="/${jreFullPath}" fileToAdd="${resources}/win32com.dll" subdirToAddFileIn="bin" />
			<!--<zip destfile="${l3ghorra.exeDir}/${jreDirName}.zip" basedir="/${jreFullPath}"></zip>-->
			<!--<copy file="${resources}/win32com.dll" tofile="${l3ghorra.packDir}/win32com.dll"/>-->
			<addJarToPack packDir="${l3ghorra.packDir}" jarfile="${commApiDir}/comm.jar"/>
			<addJarToPack packDir="${l3ghorra.packDir}" jarfile="${commApiDir}/javax.comm.properties"/>

			<zip destfile="${l3ghorra.exeDir}/${l3ghorra}_properties.zip" basedir="${l3ghorra.packDir}"
				includes="properties/*.properties"
		  />
			
		  <zip destfile="${l3ghorra.exeDir}/${l3ghorra}.zip" basedir="${l3ghorra.packDir}"
		  	excludes="properties/*.properties"
		  />	
			

		</target>
	

	<!--
  	PIMS Interface
	  -->

	<property name="pimsInterface" value="pimsInterface"/>
	<property name="pimsInterface.prjDir" value="${srcRoot}/${pimsInterface}"/>
	<property name="pimsInterface.srcDir" value="${pimsInterface.prjDir}/src"/>
	<property name="pimsInterface.buildDir" value="${exeRoot}/${appSubDir}/${pimsInterface}/${buildSubDir}"/>
	<property name="pimsInterface.classDir" value="${pimsInterface.buildDir}/${classSubDir}"/>
	<property name="pimsInterface.jarDir" value="${pimsInterface.buildDir}/${jarSubDir}"/>
	<property name="pimsInterface.jarFile" value="${pimsInterface.buildDir}/${jarSubDir}/01b-${pimsInterface}.jar"/>
	<property name="pimsInterface.ojarName" value="${pimsInterface}.jar"/>
	
	<!--
  	TRUST
	  -->

	<property name="trust" value="trustTrading"/>
	<property name="trust.prjDir" value="${srcRoot}/${trust}"/>
	<property name="trust.srcDir" value="${trust.prjDir}/src"/>
	<property name="trust.exeDir" value="${exeRoot}/${appSubDir}/${trust}"/>	
	<property name="trust.buildDir" value="${trust.exeDir}/${buildSubDir}"/>
	<property name="trust.classDir" value="${trust.buildDir}/${classSubDir}"/>
	<property name="trust.jarDir" value="${trust.buildDir}/${jarSubDir}"/>
	<property name="trust.jarFile" value="${trust.buildDir}/${jarSubDir}/01b-${trust}.jar"/>
	<property name="trust.ojarName" value="${trust}.jar"/>
	<property name="trust.packDir" value="${exeRoot}/${appSubDir}/${trust}/${versionSubDir}"/>	

	<target name="trust">
		<ant dir="${foc}" antfile="build.xml" target="makeJar"/> 
		<ant dir="${pimsInterface}" antfile="build.xml" target="makeJar"/>
		<ant dir="${trust}" antfile="build.xml" target="makeJar"/>
		
		<call-obfuscate3 jar1="${foc.jarFile}" ojar1="${trust.jarDir}/${foc.ojarName}" jar2="${trust.jarFile}" ojar2="${trust.jarDir}/${trust.ojarName}" jar3="${pimsInterface.jarFile}" ojar3="${trust.jarDir}/${pimsInterface.ojarName}" />
		
		<preparePackDir packDir="${trust.packDir}"/>
		<addProjectToPack packDir="${trust.packDir}" projectDir="${foc.prjDir}" foc-app="foc"/>
		<addProjectToPack packDir="${trust.packDir}" projectDir="${trust.prjDir}" foc-app="app"/>
		<addJarToPack packDir="${trust.packDir}" jarfile="${mysqlJarDir}/${mysqlJarName}"/>
		<addJarToPack packDir="${trust.packDir}" jarfile="${trust.buildDir}/jar/${trust.ojarName}"/>
		<addJarToPack packDir="${trust.packDir}" jarfile="${trust.buildDir}/jar/${foc.ojarName}"/>
		<addJarToPack packDir="${trust.packDir}" jarfile="${trust.buildDir}/jar/${pimsInterface.ojarName}"/>
		<addJasperToPack packDir="${trust.packDir}"/>
		
		<copy todir="${trust.packDir}/reports">
	    <fileset dir="${trust.prjDir}/reports/"/>
	  </copy>
		
		<copy file="${trust.prjDir}/ant/to_copy_run.cmd" tofile="${trust.packDir}/run.cmd"/>

		<zip destfile="${trust.exeDir}/${trust}_properties.zip" basedir="${trust.packDir}"
			includes="properties/*.properties"
	  />
		
	  <zip destfile="${trust.exeDir}/${trust}.zip" basedir="${trust.packDir}"
	  	excludes="properties/*.properties"
	  />	
		<!--jreCopy packdir="${trust.packDir}"/-->
	</target>

	<!--
  	KURBAN TOURS
	  -->

	<property name="kurban" value="kurbanTours"/>
	<property name="kurban.prjDir" value="${srcRoot}/app/${kurban}"/>
	<property name="kurban.srcDir" value="${kurban.prjDir}/src"/>
	<property name="kurban.buildDir" value="${exeRoot}/${appSubDir}/${kurban}/${buildSubDir}"/>
	<property name="kurban.classDir" value="${kurban.buildDir}/${classSubDir}"/>
	<property name="kurban.jarDir" value="${kurban.buildDir}/${jarSubDir}"/>
	<property name="kurban.jarFile" value="${kurban.buildDir}/${jarSubDir}/01b-${kurban}.jar"/>
	<property name="kurban.ojarName" value="${kurban}.jar"/>
	<property name="kurban.packDir" value="${exeRoot}/${appSubDir}/${kurban}/${versionSubDir}"/>	

	<target name="kurban">
		<ant dir="${foc}" antfile="build.xml" target="makeJar"/> 
		<ant dir="app/${kurban}" antfile="build.xml" target="makeJar"/>
		
		<call-obfuscate2 jar1="${foc.jarFile}" ojar1="${kurban.jarDir}/${foc.ojarName}" jar2="${kurban.jarFile}" ojar2="${kurban.jarDir}/${kurban.ojarName}" />
		
		<preparePackDir packDir="${kurban.packDir}"/>
		<addProjectToPack packDir="${kurban.packDir}" projectDir="${foc.prjDir}" foc-app="foc"/>
		<addProjectToPack packDir="${kurban.packDir}" projectDir="${kurban.prjDir}" foc-app="app"/>
		<addJarToPack packDir="${kurban.packDir}" jarfile="${sqlJarDir}/${sqlJarName}"/>
		<addJarToPack packDir="${kurban.packDir}" jarfile="${kurban.buildDir}/jar/${kurban.ojarName}"/>
		<addJarToPack packDir="${kurban.packDir}" jarfile="${kurban.buildDir}/jar/${foc.ojarName}"/>
		<addJasperToPack packDir="${kurban.packDir}"/>
		
		<copy todir="${kurban.packDir}/reports">
	    <fileset dir="${kurban.prjDir}/reports/"/>
	  </copy>
		
		<copy file="${kurban.prjDir}/ant/to_copy_run.cmd" tofile="${kurban.packDir}/run.cmd"/>
		
		<jreCopy packdir="${kurban.packDir}"/>
	</target>
	
	<!--
  	FAST TRACK
	  -->

	<property name="fastTrack" value="fastTrack"/>
	<property name="fastTrack.prjDir" value="${srcRoot}/app/${fastTrack}"/>
	<property name="fastTrack.srcDir" value="${fastTrack.prjDir}/src"/>
	<property name="fastTrack.buildDir" value="${exeRoot}/${appSubDir}/${fastTrack}/${buildSubDir}"/>
	<property name="fastTrack.classDir" value="${fastTrack.buildDir}/${classSubDir}"/>
	<property name="fastTrack.jarDir" value="${fastTrack.buildDir}/${jarSubDir}"/>
	<property name="fastTrack.jarFile" value="${fastTrack.buildDir}/${jarSubDir}/01b-${fastTrack}.jar"/>
	<property name="fastTrack.ojarName" value="${fastTrack}.jar"/>
	<property name="fastTrack.packDir" value="${exeRoot}/${appSubDir}/${fastTrack}/${versionSubDir}"/>	

	<target name="fastTrack">
		<ant dir="${foc}" antfile="build.xml" target="makeJar"/> 
		<ant dir="app/${pimsInterface}" antfile="build.xml" target="makeJar"/>
		<ant dir="app/${fastTrack}" antfile="build.xml" target="makeJar"/>
		
		<call-obfuscate3 jar1="${foc.jarFile}" ojar1="${fastTrack.jarDir}/${foc.ojarName}" jar2="${fastTrack.jarFile}" ojar2="${fastTrack.jarDir}/${fastTrack.ojarName}" jar3="${pimsInterface.jarFile}" ojar3="${fastTrack.jarDir}/${pimsInterface.ojarName}" />
	
		<preparePackDir packDir="${fastTrack.packDir}"/>
		<addProjectToPack packDir="${fastTrack.packDir}" projectDir="${foc.prjDir}" foc-app="foc"/>
		<addProjectToPack packDir="${fastTrack.packDir}" projectDir="${fastTrack.prjDir}" foc-app="app"/>
		<addJarToPack packDir="${fastTrack.packDir}" jarfile="${mysqlJarDir}/${mysqlJarName}"/>
		<addJarToPack packDir="${fastTrack.packDir}" jarfile="${fastTrack.buildDir}/jar/${fastTrack.ojarName}"/>
		<addJarToPack packDir="${fastTrack.packDir}" jarfile="${fastTrack.buildDir}/jar/${foc.ojarName}"/>
		<addJarToPack packDir="${fastTrack.packDir}" jarfile="${fastTrack.buildDir}/jar/${pimsInterface.ojarName}"/>
		<copy file="${fastTrack.prjDir}/ant/to_copy_run.cmd" tofile="${fastTrack.packDir}/run.cmd"/>
		
		<jreCopy packdir="${fastTrack.packDir}"/>
	</target>

	<!--
  	ASTM
	  -->

	<property name="astm" value="astm"/>
	<property name="astm.prjDir" value="${srcRoot}/${astm}"/>
	<property name="astm.srcDir" value="${astm.prjDir}/src"/>
	<property name="astm.exeDir" value="${exeRoot}/${appSubDir}/${astm}"/>
	<property name="astm.buildDir" value="${astm.exeDir}/${buildSubDir}"/>
	<property name="astm.classDir" value="${astm.buildDir}/${classSubDir}"/>
	<property name="astm.jarDir" value="${astm.buildDir}/${jarSubDir}"/>
	<property name="astm.jarFile" value="${astm.buildDir}/${jarSubDir}/01b-${astm}.jar"/>
	<property name="astm.ojarName" value="${astm}.jar"/>
	<property name="astm.packDir" value="${exeRoot}/${appSubDir}/${astm}/${versionSubDir}"/>	
	
	<target name="astm">
		<ant dir="${foc}" antfile="build.xml" target="makeJar"/> 
		<ant dir="${astm}" antfile="build.xml" target="makeJar"/>
		
		<call-obfuscate2 jar1="${foc.jarFile}" ojar1="${astm.jarDir}/${foc.ojarName}" jar2="${astm.jarFile}" ojar2="${astm.jarDir}/${astm.ojarName}" />
	
		<preparePackDir packDir="${astm.packDir}"/>
		<addProjectToPack packDir="${astm.packDir}" projectDir="${foc.prjDir}" foc-app="foc"/>
		<addProjectToPack packDir="${astm.packDir}" projectDir="${astm.prjDir}" foc-app="app"/>
		<addJarToPack packDir="${astm.packDir}" jarfile="${astm.buildDir}/jar/${foc.ojarName}"/>
		<addJarToPack packDir="${astm.packDir}" jarfile="${astm.buildDir}/jar/${astm.ojarName}"/>
		<copy file="${astm.prjDir}/ant/to_copy_run.cmd" tofile="${astm.packDir}/run.cmd"/>
		
		<addJarToPack packDir="${astm.packDir}" jarfile="${commApiDir}/comm.jar"/>
		<addJarToPack packDir="${astm.packDir}" jarfile="${commApiDir}/javax.comm.properties"/>
		
		<zip destfile="${astm.exeDir}/${astm}_properties.zip" basedir="${astm.packDir}"
			includes="properties/*.properties"
	  />
		
	  <zip destfile="${astm.exeDir}/${astm}.zip" basedir="${astm.packDir}"
	  	excludes="properties/*.properties"
	  />		
			
		
		<!--jreCopy packdir="${astm.packDir}"/-->

		<!-- COMM API files -->
		<!--copy file="${commApiDir}/win32com.dll" tofile="${astm.packDir}/jre/bin/win32com.dll"/>
		<addJarToPack packDir="${astm.packDir}" jarfile="${commApiDir}/comm.jar"/>
		<addJarToPack packDir="${astm.packDir}" jarfile="${commApiDir}/javax.comm.properties"/-->
	</target>
	
	<!--
  	DEVUTIL
	  -->

	<property name="devutil" value="devutil"/>
	<property name="devutil.prjDir" value="${srcRoot}/${devutil}"/>
	<property name="devutil.srcDir" value="${devutil.prjDir}/src"/>
	<property name="devutil.buildDir" value="${exeRoot}/${appSubDir}/${devutil}/${buildSubDir}"/>
	<property name="devutil.classDir" value="${devutil.buildDir}/${classSubDir}"/>
	<property name="devutil.jarDir" value="${devutil.buildDir}/${jarSubDir}"/>
	<property name="devutil.jarFile" value="${devutil.buildDir}/${jarSubDir}/01b-${devutil}.jar"/>
	<property name="devutil.ojarName" value="${devutil}.jar"/>
	<property name="devutil.packDir" value="${exeRoot}/${appSubDir}/${devutil}/${versionSubDir}"/>
	<property name="devutil.ojarFullName" value="${devutil.buildDir}/jar/${devutil.ojarName}"/>


	<target name="devutil">
		<ant dir="${devutil}" antfile="build.xml" target="makeJar"/>
		
		<call-obfuscate1 jar1="${devutil.jarFile}" ojar1="${devutil.jarDir}/${devutil.ojarName}"/>
	
		<!--
		<preparePackDir packDir="${devutil.packDir}"/>
		<addProjectToPack packDir="${devutil.packDir}" projectDir="${foc.prjDir}" foc-app="foc"/>
		-->		
		<addJarToPack packDir="${devutil.packDir}" jarfile="${devutil.buildDir}/jar/${devutil.ojarName}"/>
		<!--
		<addJarToPack packDir="${devutil.packDir}" jarfile="${devutil.buildDir}/jar/${foc.ojarName}"/>		
		<copy file="${devutil.prjDir}/ant/to_copy_run.cmd" tofile="${devutil.packDir}/run.cmd"/>
		<jreCopy packdir="${devutil.packDir}"/>		
		-->
	</target>	
	
	<!--
	    =====================================================
	    =====================================================
	  	MACRO - PACK PREPARE
	    =====================================================
	    =====================================================
		-->	
	<macrodef name="preparePackDir">
		<attribute name="packDir" default="NOT_SET"/>
		<element name="justdoit" implicit="yes"/>
		<sequential>
			<delete dir="@{packDir}" />
			<mkdir dir="@{packDir}" />
			<mkdir dir="@{packDir}/jar" />
			<mkdir dir="@{packDir}/properties" />
			<mkdir dir="@{packDir}/properties/languages" />
			<mkdir dir="@{packDir}/properties/languages/foc" />
			<mkdir dir="@{packDir}/properties/languages/app" />
			<mkdir dir="@{packDir}/icons/foc" />
			<mkdir dir="@{packDir}/icons/app" />
			<mkdir dir="@{packDir}/help/foc" />
			<mkdir dir="@{packDir}/help/app" />
			<mkdir dir="@{packDir}/reports" />
		</sequential>
	</macrodef>

	<macrodef name="addProjectToPack">
		<attribute name="projectDir" default="NOT_SET"/>
		<attribute name="packDir" default="NOT_SET"/>
		<attribute name="foc-app" default="app"/>

		<sequential>
			<copy todir="@{packDir}/help/@{foc-app}">
		    <fileset dir="@{projectDir}/help/@{foc-app}"/>
		  </copy>			
			<copy todir="@{packDir}/icons/@{foc-app}">
		    <fileset dir="@{projectDir}/icons/@{foc-app}"/>
		  </copy>
			<copy todir="@{packDir}/properties">
		    <fileset dir="@{projectDir}/properties"/>
		  </copy>
			<copy todir="@{packDir}/properties/languages/@{foc-app}">
		    <fileset dir="@{projectDir}/properties/languages/@{foc-app}"/>
		  </copy>
		</sequential>
	</macrodef>
	
	<macrodef name="addJarToPack">
		<attribute name="packDir" default="NOT_SET"/>
		<attribute name="jarFile" default="app"/>
    <sequential>
			<copy file="@{jarFile}" todir="@{packDir}/jar" />
		</sequential>
	</macrodef>
	
	<macrodef name="addJasperToPack">
		<attribute name="packDir" default="NOT_SET"/>
    <sequential>
			<copy file="${JasperReportDir}/${JasperReportFile1}" todir="@{packDir}/jar" />
			<copy file="${JasperReportDir}/${JasperReportFile2}" todir="@{packDir}/jar" />
   		<copy file="${JasperReportDir}/${JasperReportFile3}" todir="@{packDir}/jar" />
   		<copy file="${JasperReportDir}/${JasperReportFile4}" todir="@{packDir}/jar" />    	
		</sequential>
	</macrodef>
	
	<!--
	    =====================================================
	    =====================================================
	  	MACRO - JRE
	    =====================================================
	    =====================================================
		-->	
	
	<macrodef name="jreZip">
		<attribute name="packDir" default="NOT_SET"/>
		<sequential>
			<if>
				<equals arg1="${jre}" arg2="true" />
				<then>
				  <zip destfile="@{packDir}/${jreDirName}.zip" basedir="${jdkRoot}"
				  	includes="jre/**"/>
				</then>
			</if>
		</sequential>
	</macrodef>
	
	<macrodef name="jreZipWithAdd">
		<attribute name="packDir" default="NOT_SET"/>
		<attribute name="fileToAdd" default="NOT_SET"/>
		<attribute name="subdirToAddFileIn" default="NOT_SET"/>
		<attribute name="dir" default="NOT_SET"/>	
		<attribute name="dirToCopyJreFrom" default="NOT_SET"/>
		<attribute name="dirToCopyJreTo" default="NOT_SET"/>
		<sequential>
			<if>
				<equals arg1="${jre}" arg2="true" />
				<then>
					<!--
				  <zip destfile="@{packDir}/${jreDirName}.zip"> 
					<zipfileset dir="." includes="${jdkFullPath}/jre/**" fullpath="${jreDirName}"/>
					<zipfileset file="@{file}" prefix="@{dir}"/>-->
					<copy todir="c:/01b/temp">
					    <fileset dir="@{dirToCopyJreFrom}"/>
					  </copy>

					<copy file="@{fileToAdd}" todir="c:/01b/temp/@{subdirToAddFileIn}"/>
					
			  	<zip destfile="@{dirToCopyJreTo}" basedir="c:/01b/temp"></zip>
					
     			<!--</zip>-->
				</then>
			</if>
		</sequential>
	</macrodef>
	
	<macrodef name="jreCopy">
		<attribute name="packDir" default="NOT_SET"/>
		<sequential>
			<if>
				<equals arg1="${jre}" arg2="true" />
				<then>
					<property name="src.jre.dir" value="${drive}javasrc:/java/jre1.5.0" />
					<property name="tar.jre.dir" value="@{packDir}/jre" />
					
					<copy todir="${tar.jre.dir}">
				    <fileset dir="${src.jre.dir}"/>
				  </copy>
					<!--
					<delete file="${tar.jre.dir}/lib/charsets.jar" />
					<delete file="${tar.jre.dir}/lib/ext/sunjce_provider.jar" />
					<delete file="${tar.jre.dir}/lib/ext/localedata.jar" />
					<delete file="${tar.jre.dir}/lib/ext/ldapsec.jar" />		
					<delete file="${tar.jre.dir}/lib/ext/dnsns.jar" />				
					<delete file="${tar.jre.dir}/bin/rmid.exe" />
					<delete file="${tar.jre.dir}/bin/rmiregistry.exe" />
					<delete file="${tar.jre.dir}/bin/tnameserv.exe" />
					<delete file="${tar.jre.dir}/bin/keytool.exe" />
					<delete file="${tar.jre.dir}/bin/kinit.exe" />
					<delete file="${tar.jre.dir}/bin/klist.exe" />
					<delete file="${tar.jre.dir}/bin/ktab.exe" />
					<delete file="${tar.jre.dir}/bin/policytool.exe" />
					<delete file="${tar.jre.dir}/bin/orbd.exe" />
					<delete file="${tar.jre.dir}/bin/servertool.exe" />
					<delete file="${tar.jre.dir}/bin/javaws.exe" />
					<delete dir="${tar.jre.dir}/lib/javaws" />
					<delete file="${tar.jre.dir}/lib/javaws.jar" />
					-->
					<!-- <delete file="${tar.jre.dir}/bin/java.exe" /> -->
					<!--
					<delete file="${tar.jre.dir}/bin/javaw.exe" />
					<delete file="${tar.jre.dir}/bin/ActPanel.dll" />
					<delete file="${tar.jre.dir}/bin/jpicpl32.exe" />
					<delete file="${tar.jre.dir}/bin/jpicpl32.cpl" />
					<delete file="${tar.jre.dir}/bin/jpiexp32.dll" />
					<delete file="${tar.jre.dir}/bin/jpins32.dll" />
					<delete file="${tar.jre.dir}/bin/jpishare.dll" />
					<delete file="${tar.jre.dir}/bin/NPJava11.dll" />
					<delete file="${tar.jre.dir}/bin/NPJava12.dll" />
					<delete file="${tar.jre.dir}/bin/NPJava13.dll" />
					<delete file="${tar.jre.dir}/bin/NPJava32.dll" />
					<delete file="${tar.jre.dir}/bin/NPJPI141.dll" />
					<delete file="${tar.jre.dir}/bin/NPOJI610.dll" />
					<delete>	
						<fileset dir="${tar.jre.dir}" includes="LICENSE_*.rtf"/>	
					</delete>	
					-->
				</then>
			</if>
		</sequential>
	</macrodef>
	
	<!--
	    =====================================================
	    =====================================================
	  	MACRO - OBFUSCATE
	    =====================================================
	    =====================================================
		-->	
	
	<macrodef name="call-obfuscate1">
		<attribute name="jar1"/>
		<attribute name="ojar1"/>
		<element name="ext-inoutpair" implicit="yes"/>
		<sequential>
			<obfuscate mainclass="${main.class}" logfile="${obfuscationlog}" replaceclassnamestrings="true">
				<!--  <property name="error-checking" value="pedantic"/>  -->

				<inoutpair in="@{jar1}" out="@{ojar1}"/>
				
				<expose>
					<class classes="public" methods="public" fields="public"	name="b01.ant.tasks.CreateSecurityJavaFile"/>
					<method name="b01.foc.gui.FPanel newBrowsePanel(b01.foc.list.FocList, int)">
						<patternset>
							<include name="**.*" />
						</patternset>
					</method>
					<method name="b01.foc.desc.FocDesc getFocDesc()">
						<patternset>
							<include name="**.*" />
						</patternset>
					</method>
					<method name="b01.foc.desc.FocDesc getInstance()">
						<patternset>
							<include name="**.*" />
						</patternset>
					</method>					
				</expose>
			</obfuscate>
		</sequential>
	</macrodef>
	
	<macrodef name="call-obfuscate2-doObfuscate">		
		<attribute name="jar1"/>
		<attribute name="ojar1"/>
		<attribute name="jar2"/>
		<attribute name="ojar2"/>
		<element name="ext-inoutpair" implicit="yes"/>
		<sequential>
			<obfuscate mainclass="${main.class}" logfile="${obfuscationlog}" replaceclassnamestrings="true">
				<!--  <property name="error-checking" value="pedantic"/>  -->
				
				<inoutpair in="@{jar1}" out="@{ojar1}"/>				
				<inoutpair in="@{jar2}" out="@{ojar2}"/>				
				
				<expose>
					<class classes="public" methods="public" fields="public"	name="b01.ant.tasks.CreateSecurityJavaFile"/>
					<method name="b01.foc.gui.FPanel newBrowsePanel(b01.foc.list.FocList, int)">
						<patternset>
							<include name="**.*" />
						</patternset>
					</method>
					<method name="b01.foc.desc.FocDesc getFocDesc()">
						<patternset>
							<include name="**.*" />
						</patternset>
					</method>
					<method name="b01.foc.desc.FocDesc getInstance()">
						<patternset>
							<include name="**.*" />
						</patternset>
					</method>
				</expose>
			</obfuscate>
		</sequential>
	</macrodef>

	<macrodef name="call-obfuscate2-NO_OBFUSCATION">
		<attribute name="jar1"/>
		<attribute name="ojar1"/>
		<attribute name="jar2"/>
		<attribute name="ojar2"/>

		<element name="ext-inoutpair" implicit="yes"/>
		<sequential>
			<copy file="@{jar1}" tofile="@{ojar1}" />
			<copy file="@{jar2}" tofile="@{ojar2}" />
		</sequential>
	</macrodef>
	
	<macrodef name="call-obfuscate2">
		<attribute name="jar1"/>
		<attribute name="ojar1"/>
		<attribute name="jar2"/>
		<attribute name="ojar2"/>

		<element name="ext-inoutpair" implicit="yes"/>
		<sequential>
			<if>
				<equals arg1="${obfuscate}" arg2="true" />
			 	<then>
					<call-obfuscate2-doObfuscate jar1="@{jar1}" ojar1="@{ojar1}" jar2="@{jar2}" ojar2="@{ojar2}"/>
			 	</then>
			 	<else>
					<call-obfuscate2-NO_OBFUSCATION jar1="@{jar1}" ojar1="@{ojar1}" jar2="@{jar2}" ojar2="@{ojar2}"/>
			 	</else>
			</if>
		</sequential>
	</macrodef>

	<macrodef name="call-obfuscate3-doObfuscate">		
		<attribute name="jar1"/>
		<attribute name="ojar1"/>
		<attribute name="jar2"/>
		<attribute name="ojar2"/>
		<attribute name="jar3"/>
		<attribute name="ojar3"/>

		<element name="ext-inoutpair" implicit="yes"/>
		<sequential>
			 <obfuscate mainclass="${main.class}" logfile="${obfuscationlog}" replaceclassnamestrings="true">
				
				<inoutpair in="@{jar1}" out="@{ojar1}"/>
				<inoutpair in="@{jar2}" out="@{ojar2}"/>				
				<inoutpair in="@{jar3}" out="@{ojar3}"/>				
				
				<expose>
					<class name="SecKeyFileMaker"/>
					<method name="b01.foc.gui.FPanel newBrowsePanel(b01.foc.list.FocList, int)">
						<patternset>
							<include name="**.*" />
						</patternset>
					</method>
					<method name="b01.foc.desc.FocDesc getFocDesc()">
						<patternset>
							<include name="**.*" />
						</patternset>
					</method>
					<method name="b01.foc.desc.FocDesc getInstance()">
						<patternset>
							<include name="**.*" />
						</patternset>
					</method>
				</expose>
			</obfuscate>
		</sequential>
	</macrodef>

	<macrodef name="call-obfuscate3-NO_OBFUSCATION">
		<attribute name="jar1"/>
		<attribute name="ojar1"/>
		<attribute name="jar2"/>
		<attribute name="ojar2"/>
		<attribute name="jar3"/>
		<attribute name="ojar3"/>

		<element name="ext-inoutpair" implicit="yes"/>
		<sequential>
			<copy file="@{jar1}" tofile="@{ojar1}" />
			<copy file="@{jar2}" tofile="@{ojar2}" />
			<copy file="@{jar3}" tofile="@{ojar3}" />
		</sequential>
	</macrodef>

	<macrodef name="call-obfuscate3">		
		<attribute name="jar1"/>
		<attribute name="ojar1"/>
		<attribute name="jar2"/>
		<attribute name="ojar2"/>
		<attribute name="jar3"/>
		<attribute name="ojar3"/>

		<element name="ext-inoutpair" implicit="yes"/>
		<sequential>
			<if>
				<equals arg1="${obfuscate}" arg2="true" />
			 	<then>
					<call-obfuscate3-doObfuscate jar1="@{jar1}" ojar1="@{ojar1}" jar2="@{jar2}" ojar2="@{ojar2}" jar3="@{jar3}" ojar3="@{ojar3}"/>
			 	</then>
			 	<else>
					<call-obfuscate3-NO_OBFUSCATION jar1="@{jar1}" ojar1="@{ojar1}" jar2="@{jar2}" ojar2="@{ojar2}" jar3="@{jar3}" ojar3="@{ojar3}"/>
			 	</else>
			</if>
		</sequential>
	</macrodef>

  <!--
  
  	Foc compile and jar creation
  	
  -->

  <property name="foc.build.dir" value="${exeRoot}/foc/build" />
  <property name="foc.build.classes.dir" value="${foc.build.dir}/classes" />  
	
	<target name="full">

	</target>
</project>